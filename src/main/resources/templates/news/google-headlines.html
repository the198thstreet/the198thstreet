<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Google 뉴스 아카이브</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 16px; }
        th, td { padding: 8px; border-bottom: 1px solid #ddd; }
        th { background: #f5f5f5; text-align: left; }
        .filters { display: flex; gap: 8px; flex-wrap: wrap; }
        .pagination { margin-top: 16px; }
    </style>
</head>
<body>
<h2>Google 뉴스 아카이브</h2>
<form method="get" class="filters">
    <label>From: <input type="date" name="fromDate" th:value="${fromDate}"/></label>
    <label>To: <input type="date" name="toDate" th:value="${toDate}"/></label>
    <label>Press: <input type="text" name="press" placeholder="언론사" th:value="${press}"/></label>
    <label>Keyword: <input type="text" name="keyword" placeholder="제목" th:value="${keyword}"/></label>
    <label>Size: <input type="number" name="size" min="1" max="100" th:value="${size}"/></label>
    <button type="submit">검색</button>
</form>

<table>
    <thead>
    <tr>
        <th>발행일 (UTC)</th>
        <th>언론사</th>
        <th>기사 제목</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="headline : ${headlines}">
        <td th:text="${#temporals.format(headline.topicPubDate, 'yyyy-MM-dd HH:mm')}"></td>
        <td th:text="${headline.articlePressName}"></td>
        <td><a th:href="${headline.articleUrl}" target="_blank" th:text="${headline.articleTitle}"></a></td>
    </tr>
    <tr th:if="${headlines.totalElements == 0}">
        <td colspan="3">조회된 데이터가 없습니다.</td>
    </tr>
    </tbody>
</table>

<div class="pagination" th:if="${headlines.totalPages > 1}">
    <a th:if="${headlines.hasPrevious()}"
       th:href="@{/news/google/headlines(page=${headlines.number - 1},size=${headlines.size},fromDate=${fromDate},toDate=${toDate},press=${press},keyword=${keyword})}">이전</a>
    <span th:text="${headlines.number + 1}"></span> / <span th:text="${headlines.totalPages}"></span>
    <a th:if="${headlines.hasNext()}"
       th:href="@{/news/google/headlines(page=${headlines.number + 1},size=${headlines.size},fromDate=${fromDate},toDate=${toDate},press=${press},keyword=${keyword})}">다음</a>
</div>
</body>
</html>
